{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name":"immunization",
            "type":"python",
            "request":"launch",
            "program":"immunization.py",
            "console":"integratedTerminal",
            "justMyCode": false,
            "env": {"CUDA_VISIBLE_DEVICES": "0"},
            "args": [//"--model_name_or_path=TinyLlama/TinyLlama-1.1B-Chat-v1.0",
                     "--verbose", 
                     "--init_attack_prompts=10",
                     "--init_defence_prompts=20",
                     "--init_eval_safety_prompts=5",
                     "--init_eval_performance_prompts=5",
                     "--performance_batches=5",
                     "--tqdm",
                     "--starting_layer=9",
                     //"--mount_vaccines=VACCINE_2_lr2_equity_ml_s_*",
                     "--vaccine_weight=0.5",
                     // "--memory_less",
                    // "--save",
                    "--mount_vaccines=super",
                    // "--mount_vaccines=VACCINE_1_save_layer1_adapter4.pth:VACCINE_1_save_layer1_adapter9.pth"
                    // "--save",
                    //"--defence_regularization=compound",
                    ]
        },
        {
        "name":"reft",
        "type": "python",
        "request":"launch",
        "program":"reft.py",
        "console":"integratedTerminal",
        "justMyCode": false,
        "args": ["--model_name_or_path=meta-llama/Meta-Llama-3-8B-Instruct",
                "--layers=13",
                "--low_rank_dimension=2",
                "--n_train_examples=100",
                "--batch_size=10",
                "--learning_rate=4e-3",
                "--num_train_epochs=5",
                "--output_dir=local_checkpoints",
                "--logging_steps=1",
                "--positions=all",
                "--share_weights",
                "--intervention_places=mlp_gate_output;mlp_up_output",
                "--nonstop",
                "--mode=toxify",
                "--data_path=data/harmful_behaviors.csv",
                //"--label_col=toxic_response",
                //"--input_col=Behavior"
            ]
    },
    {
        "name":"eval",
        "type": "python",
        "request":"launch",
        "program":"simple_eval.py",
        "console":"integratedTerminal",
        "justMyCode": false,
        "args": ["--reft_path=local_checkpoints/Meta-Llama-3-8B-Instruct_toxify_l-13_pos-all_mlp_gate_output_mlp_up_output_sw_ns",
                "--logging"]
    }
    ]
}